---
const {
  headline = "Zostańmy w kontakcie",
  description = "Zapewniamy niestandardowe usługi dla każdego ślubu. Pomóż nam dowiedzieć się więcej o Twoich uroczystościach, wypełniając poniższy formularz.",
  note = "Przyjmujemy ograniczoną liczbę wydarzeń na rok 2025 + 2026. Czekamy na wiadomość od Ciebie!",
  contact = {
    phone: "970-803-0683",
    email: "hello@flamefilms.co",
  },
} = Astro.props;
---

<style>
  .contact-section {
    background-color: #f8f7f4;
    padding: 4rem 1rem;
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    align-items: center;
    gap: 2rem;
  }
  .contact-headline {
    font-size: 2rem;
    font-weight: 500;
    font-style: italic;
    text-transform: uppercase;
  }
  .contact-headline span {
    font-style: normal;
    font-weight: 600;
  }
  .contact-text {
    font-size: 1rem;
    line-height: 1.6;
    color: #333;
  }
  .contact-box {
    background-color: #e6e6e6;
    padding: 1rem;
    text-align: right;
    font-size: 0.9rem;
    color: #333;
    border-radius: 0.25rem;
  }
  .contact-box a {
    font-style: italic;
    color: #666;
    text-decoration: none;
  }
  .contact-form {
    grid-column: 1 / -1;
    margin-top: 3rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }
  .contact-form input,
  .contact-form select,
  .contact-form textarea {
    padding: 0.75rem;
    border: 1px solid #ccc;
    border-radius: 0.25rem;
    font-size: 1rem;
  }
  .contact-form textarea {
    min-height: 150px;
  }
  .contact-form label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: #444;
  }
  .contact-form button {
    background-color: #333;
    color: white;
    padding: 0.75rem;
    font-size: 1rem;
    border: none;
    border-radius: 0.25rem;
    cursor: pointer;
  }
  .contact-form button:hover {
    background-color: #111;
  }
  @media (max-width: 768px) {
    .contact-section {
      grid-template-columns: 1fr;
      text-align: center;
    }
    .contact-box {
      text-align: center;
    }
  }
</style>

<section class="contact-section">
  <h2 class="contact-headline">
    <span>{headline}</span>
  </h2>
  <div class="contact-text">
    <p>{description}</p>
    <p style="margin-top: 1rem">{note}</p>
  </div>
  <div class="contact-box">
    <p><strong>P:</strong> {contact.phone}</p>
    <p><a href={`mailto:${contact.email}`}>{contact.email}</a></p>
  </div>

  <form
    class="contact-form"
    action="https://api.web3forms.com/submit"
    method="POST"
    data-netlify="true"
  >
    <!-- Klucz dostępu Web3Forms -->
    <input
      type="hidden"
      name="access_key"
      value="4dd4f683-f4c3-4e68-a842-820e942fd1f8"
    />

    <!-- Dodatkowe pola ukryte (opcjonalne) -->
    <input type="hidden" name="from_name" value="Twoja Strona" />
    <input
      type="hidden"
      name="subject"
      value="Nowa wiadomość z formularza kontaktowego"
    />
    <input
      type="hidden"
      name="redirect"
      value="https://twojastrona.pl/dziekujemy"
    />

    <!-- Ochrona przed botami -->
    <input
      type="checkbox"
      name="botcheck"
      class="hidden"
      style="display:none;"
    />

    <!-- Pola formularza -->
    <input type="text" name="names" placeholder="Wasze imiona" required />
    <input type="email" name="email" placeholder="Email" required />
    <input type="tel" name="phone" placeholder="Telefon" required />
    <input type="date" name="date" placeholder="Data ślubu" required />
    <input type="text" name="venue" placeholder="Sala weselna" />
    <input type="text" name="church" placeholder="Adres kościoła" />
    <input type="text" name="brideAddress" placeholder="Adres Panny Młodej" />
    <input type="text" name="groomAddress" placeholder="Adres Pana Młodego" />
    <input type="text" name="photographer" placeholder="Dane do fotografa" />
    <select name="guests" required>
      <option value="">Spodziewana liczba gości</option>
      <option value="do_50">do 50</option>
      <option value="51_100">51–100</option>
      <option value="101_150">101–150</option>
      <option value="powyzej_150">powyżej 150</option>
    </select>
    <input
      type="text"
      name="budget"
      placeholder="Przewidywany budżet na film"
    />
    <input type="text" name="foundUs" placeholder="Jak nas znalazłeś?" />
    <textarea
      name="plans"
      placeholder="Opowiedz nam trochę o sobie, swoich planach i tym, czego szukasz!"
      required></textarea>
    <label>
      <input type="checkbox" name="rodo" required />
      Wyrażam zgodę na przetwarzanie danych osobowych w celu kontaktu.
    </label>
    <button type="submit">Wyślij wiadomość</button>
  </form>
</section>
